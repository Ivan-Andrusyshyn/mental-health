import{a as Re,b as P}from"./chunk-GDA2AWJY.js";import{a as De}from"./chunk-MTIWMLQG.js";import"./chunk-JCB5M7FT.js";import"./chunk-OGPSAGB3.js";import"./chunk-L6HUJFEW.js";import"./chunk-2NXFFOFG.js";import"./chunk-PWLJKGQK.js";import{a as Ie,b as Oe,c as Pe,d as Te,e as Fe,f as Ee,g as ke}from"./chunk-P6LYWOG3.js";import"./chunk-WKVZOSAZ.js";import{a as be}from"./chunk-PMQLLBN4.js";import{a as Me,b as Se}from"./chunk-W3WIGGQZ.js";import{a as _e,b as ve,e as xe,f as ye}from"./chunk-TVTDPM5Q.js";import{b as k,c as D,e as Q,f as R,i as z,k as Ce,m as A,n as we,o as B,r as q,s as O}from"./chunk-5D25PMGN.js";import{a as Qe}from"./chunk-MBXDWNPG.js";import"./chunk-ZRMWD7CH.js";import"./chunk-AESYL7IM.js";import{a as he}from"./chunk-6YLY5ZC5.js";import"./chunk-EIIW2VZD.js";import"./chunk-JDDIQEYL.js";import"./chunk-HEOHOP3Y.js";import{a as pe,h as ge,j as fe}from"./chunk-2UHE3LMZ.js";import{$b as S,Aa as X,Ab as te,Ba as Y,Cb as E,Dc as H,Eb as re,Fb as ne,Gb as o,Hb as s,Ia as Z,Ib as u,Ja as w,Mb as G,Mc as de,Nc as ue,Oc as I,Pa as W,Pb as x,Rb as f,Wb as ie,Xb as oe,Yb as ae,Zb as se,_b as m,ab as M,ac as y,bc as L,da as T,db as a,eb as _,ga as $,gc as v,ic as le,ja as g,mb as J,na as N,nc as ce,oa as b,rb as K,vb as p,wb as F,xb as c,yb as V,yc as me,za as j,zb as ee}from"./chunk-BI3TUFEU.js";import"./chunk-BY3KSYET.js";function Ge(r,e){r&1&&u(0,"div",2)}var Le=new $("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Ae=(()=>{let e=class e{constructor(i,t,n,d,h){this._elementRef=i,this._ngZone=t,this._changeDetectorRef=n,this._animationMode=d,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new w,this._mode="determinate",this._transitionendHandler=U=>{this.animationEnd.observers.length===0||!U.target||!U.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation=d==="NoopAnimations",h&&(h.color&&(this.color=this._defaultColor=h.color),this.mode=h.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(i){this._color=i}get value(){return this._value}set value(i){this._value=ze(i||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(i){this._bufferValue=ze(i||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(i){this._mode=i,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}};e.\u0275fac=function(t){return new(t||e)(_(Z),_(J),_(me),_(W,8),_(Le,8))},e.\u0275cmp=b({type:e,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,n){t&2&&(F("aria-valuenow",n._isIndeterminate()?null:n.value)("mode",n.mode),te("mat-"+n.color),ee("_mat-animation-noopable",n._isNoopAnimation)("mdc-linear-progress--animation-ready",!n._isNoopAnimation)("mdc-linear-progress--indeterminate",n._isIndeterminate()))},inputs:{color:"color",value:[N.HasDecoratorInputTransform,"value","value",H],bufferValue:[N.HasDecoratorInputTransform,"bufferValue","bufferValue",H],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[K,v],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,n){t&1&&(o(0,"div",0),u(1,"div",1),p(2,Ge,1,0,"div",2),s(),o(3,"div",3),u(4,"span",4),s(),o(5,"div",5),u(6,"span",4),s()),t&2&&(a(),V("flex-basis",n._getBufferBarFlexBasis()),a(),E(2,n.mode==="buffer"?2:-1),a(),V("transform",n._getPrimaryBarTransform()))},styles:[`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}`],encapsulation:2,changeDetection:0});let r=e;return r})();function ze(r,e=0,l=100){return Math.max(e,Math.min(l,r))}function Ue(r,e){r&1&&(o(0,"mat-error"),m(1," \u0406\u043C'\u044F \u0454 \u043E\u0431\u043E\u0432'\u044F\u0437\u043A\u043E\u0432\u0438\u043C "),s())}function $e(r,e){r&1&&(o(0,"mat-error"),m(1," \u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0434\u0456\u0439\u0441\u043D\u0443 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 "),s())}var Be=(()=>{let e=class e{constructor(i,t,n,d,h){this.dialogRef=i,this.http=t,this.data=n,this.fb=d,this.router=h}ngOnInit(){this.emailForm=this.fb.group({name:["",[D.required]],email:["",[D.required,D.email]]})}close(){this.dialogRef.close()}onSubmit(){if(this.emailForm.valid){let i={name:this.emailForm.value.name,email:this.emailForm.value.email,result:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0438 \u0442\u0435\u0441\u0442\u0443\u0432\u0430\u043D\u043D\u044F "+this.data.testResult,score:"\u0412\u0430\u0448\u0430 \u043A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C \u0431\u0430\u043B\u0456\u0432  "+this.data.score};this.http.post("https://submit-form.com/IWivaiDXn",i).subscribe(t=>{console.log("Form submitted successfully",t),this.dialogRef.close(i),this.router.navigate(["test/success-email"])},t=>{console.error("Error submitting form",t)})}}};e.\u0275fac=function(t){return new(t||e)(_(Ie),_(pe),_(Oe),_(q),_(fe))},e.\u0275cmp=b({type:e,selectors:[["app-modal"]],standalone:!0,features:[v],decls:25,vars:7,consts:[["mat-dialog-title","",1,"dialog-title"],["mat-dialog-content",""],[1,"image-container"],["alt","Test Image",3,"src"],[1,"test-result"],[1,"score"],[3,"ngSubmit","formGroup"],[1,"full-width"],["for","name"],["matInput","","id","name","formControlName","name","placeholder","\u0412\u0430\u0448\u0435 \u0456\u043C'\u044F"],[4,"ngIf"],["for","email"],["matInput","","id","email","formControlName","email","placeholder","example@mail.com"],["mat-dialog-actions",""],["mat-button","","type","submit",3,"disabled"],["mat-button","","type","button",3,"click"]],template:function(t,n){t&1&&(o(0,"h1",0),m(1,"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0438 \u0442\u0435\u0441\u0442\u0443"),s(),o(2,"div",1)(3,"div",2),u(4,"img",3),s(),o(5,"p",4),m(6),s(),o(7,"p",5),m(8),s(),o(9,"form",6),x("ngSubmit",function(){return n.onSubmit()}),o(10,"mat-form-field",7)(11,"mat-label",8),m(12,"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0432\u0430\u0448\u0435 \u0456\u043C'\u044F"),s(),u(13,"input",9),p(14,Ue,2,0,"mat-error",10),s(),o(15,"mat-form-field",7)(16,"mat-label",11),m(17,"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0432\u0430\u0448\u0443 \u0435\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0443 \u0430\u0434\u0440\u0435\u0441\u0443"),s(),u(18,"input",12),p(19,$e,2,0,"mat-error",10),s(),o(20,"div",13)(21,"button",14),m(22," \u041D\u0430\u0434\u0456\u0441\u043B\u0430\u0442\u0438 "),s(),o(23,"button",15),x("click",function(){return n.close()}),m(24,"\u0417\u0430\u043A\u0440\u0438\u0442\u0438"),s()()()()),t&2&&(a(4),c("src",n.data.testImg,M),a(2),S(n.data.problem),a(2),y("Score: ",n.data.score,""),a(),c("formGroup",n.emailForm),a(5),c("ngIf",n.emailForm.controls.name.invalid&&n.emailForm.controls.name.touched),a(5),c("ngIf",n.emailForm.controls.email.invalid&&n.emailForm.controls.email.touched),a(2),c("disabled",!n.emailForm.valid))},dependencies:[I,xe,Se,Me,_e,ve,ye,ke,Te,Ee,Fe,O,z,k,Q,R,A,B,he],styles:[".image-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto;border-radius:8px}.test-result[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:10px}.dialog-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;text-align:center;margin-bottom:16px}.score[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}"],changeDetection:0});let r=e;return r})();var Ye=(r,e)=>e.id;function Ze(r,e){if(r&1&&u(0,"app-product-item",1),r&2){let l=e.$implicit;c("product",l)}}var qe=(()=>{let e=class e{constructor(){this.testService=g(P),this.recommendList=[],this.testService.recomendProducts.asObservable().subscribe(i=>{this.recommendList=i.slice()})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b({type:e,selectors:[["app-recommend-products"]],standalone:!0,features:[v],decls:4,vars:0,consts:[[1,"product-list"],[3,"product"]],template:function(t,n){t&1&&(o(0,"div")(1,"ul",0),re(2,Ze,1,1,"app-product-item",1,Ye),s()()),t&2&&(a(2),ne(n.recommendList))},dependencies:[De],styles:[".product-list[_ngcontent-%COMP%]{padding:1rem 0;gap:2rem;max-width:1370px;height:100%;margin:0 auto;display:flex;justify-content:center;flex-wrap:wrap}@media screen and (min-width: 844px){.product-list[_ngcontent-%COMP%]{justify-content:flex-start}}"],changeDetection:0});let r=e;return r})();function We(r,e){r&1&&(o(0,"div",12)(1,"h2"),m(2,"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u044C\u0442\u0435 \u0442\u043E\u0432\u0430\u0440\u0438, \u044F\u043A\u0456 \u043C\u0438 \u043F\u0456\u0434\u0456\u0431\u0440\u0430\u043B\u0438 \u0434\u043B\u044F \u0432\u0430\u0441."),s(),u(3,"app-recommend-products"),s())}var Ne=(()=>{let e=class e{constructor(){this.recommendProducts=!1,this.testService=g(P),this.dialog=g(Pe),this.testResult="",this.problem=""}ngOnInit(){this.loadTestResult()}openDialog(){this.dialog.open(Be,{width:"400px",height:"600px",data:{problem:this.problem,testImg:this.testImg,score:this.score,testResult:this.testResult}})}loadTestResult(){let i=this.testService.getTestResults().find(t=>t.testId===this.testId);if(i&&this.score!==null){let t=this.testService.getTestResultText(i,this.score);if(!t)return;this.problem=t.problem,this.testResult=t.text,t.recomendIdList?(this.recommendProducts=!0,this.testService.filterProducts(t.recomendIdList)):this.recommendProducts=!1}}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b({type:e,selectors:[["app-selected-test-result"]],inputs:{score:"score",testId:"testId",testImg:"testImg"},standalone:!0,features:[v],decls:18,vars:5,consts:[[1,"card"],[1,"container-card","bg-white-box"],[1,"card-img-wrap"],[3,"src"],[1,"card-title"],[1,"test-score-text"],[1,"card-problem-title"],[1,"card-description"],["title","\u041A\u043D\u043E\u043F\u043A\u0430 \u0432 \u043F\u0440\u043E\u0446\u0435\u0441\u0456 \u0440\u043E\u0437\u0440\u043E\u0431\u043A\u0438",1,"card__button",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","none"],["d","M0 0h24v24H0V0z","fill","none"],["d","M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z","fill","currentColor"],[1,"product-list-wrap"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),u(3,"img",3),o(4,"p",4),m(5,"\u0417\u0430\u043A\u043B\u044E\u0447\u0435\u043D\u043D\u044F"),s()(),o(6,"p",5),m(7),s(),o(8,"p",6),m(9),s(),o(10,"p",7),m(11),s(),o(12,"button",8),x("click",function(){return n.openDialog()}),m(13," \u041D\u0430\u0434\u0456\u0441\u043B\u0430\u0442\u0438 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 "),Y(),o(14,"svg",9),u(15,"path",10)(16,"path",11),s()()()(),p(17,We,4,0,"div",12)),t&2&&(a(3),c("src",n.testImg,M),a(4),y("\u0412\u0430\u0448 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442: ",n.score,""),a(2),y(" ",n.problem," "),a(2),y(" ",n.testResult," "),a(6),E(17,n.recommendProducts?17:-1))},dependencies:[qe],styles:['.card[_ngcontent-%COMP%]{max-width:1200px;border:0;width:100%;margin:auto 0;margin-inline:auto}.product-list-wrap[_ngcontent-%COMP%]{padding:1rem;margin-top:1rem}.product-list-wrap[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;font-weight:700;border-bottom:2px solid #3498db;padding-bottom:.5rem;color:#2c3e50}.container-card[_ngcontent-%COMP%]{position:relative;border:2px solid transparent;background-color:#00667e;background-clip:padding-box;border-radius:45px;padding:40px}.container-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;border-radius:1rem;margin-bottom:1rem}.card-problem-title[_ngcontent-%COMP%]{color:#b6c2cf;font-size:1rem;margin-bottom:1rem;font-weight:700;padding-bottom:.5rem}.bg-green-box[_ngcontent-%COMP%], .bg-white-box[_ngcontent-%COMP%], .bg-yellow-box[_ngcontent-%COMP%], .bg-blue-box[_ngcontent-%COMP%]{position:relative}.bg-green-box[_ngcontent-%COMP%]:after, .bg-white-box[_ngcontent-%COMP%]:after, .bg-yellow-box[_ngcontent-%COMP%]:after, .bg-blue-box[_ngcontent-%COMP%]:after{position:absolute;inset:-1px;content:"";z-index:-1;border-radius:45px}.bg-green-box[_ngcontent-%COMP%]:after{background:linear-gradient(71deg,#0d1212,#3da077,#0d1212)}.bg-white-box[_ngcontent-%COMP%]:after{background:linear-gradient(71deg,#121013,#b0afb0,#121013)}.bg-yellow-box[_ngcontent-%COMP%]:after{background:linear-gradient(71deg,#110e0e,#afa220,#110e0e)}.bg-blue-box[_ngcontent-%COMP%]:after{background:linear-gradient(71deg,#0c0a0e,#5f6fad,#0c0a0e)}.card-title[_ngcontent-%COMP%]{font-weight:600;letter-spacing:-.02em;line-height:40px;font-size:28px;padding-bottom:8px;color:#fff;font-style:normal}.card-img-wrap[_ngcontent-%COMP%]{gap:2rem;display:flex;align-items:center}.card-description[_ngcontent-%COMP%]{font-weight:600;line-height:32px;color:#ffffffe0;font-size:16px;max-width:800px;text-align:left}.test-score-text[_ngcontent-%COMP%]{font-weight:600;line-height:32px;color:#ffffffe0;font-size:16px;max-width:800px;margin-bottom:1rem;text-align:left}.goBack-btn-wrap[_ngcontent-%COMP%]{padding:.5rem}.card__button[_ngcontent-%COMP%]{margin-top:1rem;padding:.75em 1.6em;font-size:1rem;border-radius:.45em;outline:2px solid hsl(0,0%,100%);transition:all cubic-bezier(.075,.82,.165,1);color:#ffffffd5;gap:1rem;display:flex;align-items:center;width:fit-content;width:-moz-fit-content;font-variant:small-caps;font-weight:700;border:none;background-color:var(--brand-color);font-family:var(--font-title);cursor:pointer}.card__button[_ngcontent-%COMP%]:hover{outline:none}'],changeDetection:0});let r=e;return r})();var je=(()=>{let e=class e{constructor(){}scrollToCurrentQuestion(i,t){if(!t||t.length===0)return;let d=t.toArray()[i]?.nativeElement;if(d){let h=d.getBoundingClientRect().top+window.pageYOffset-180;console.log(h),this.smoothDelay=setTimeout(()=>{window.scrollTo({top:h,behavior:"smooth"})},200)}}cancelSmoothScroll(){this.smoothDelay&&(clearTimeout(this.smoothDelay),this.smoothDelay=null)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();var Je=["questionElement"],Ke=r=>({"disabled-question":r});function et(r,e){if(r&1){let l=G();o(0,"label",13)(1,"div",14)(2,"input",15),x("change",function(){j(l);let t=f(3);return X(t.onNextQuestion())}),s(),o(3,"span"),m(4),s()()()}if(r&2){let l=e.$implicit,i=e.index,t=f().index;a(2),c("id","option-"+t+"-"+i)("value",l.value),F("name","question"+t),a(2),S(l.label)}}function tt(r,e){if(r&1&&(o(0,"div",16),u(1,"mat-progress-bar",17),o(2,"div",18),m(3),s()()),r&2){let l=f().index,i=f(2);a(),c("value",(i.currentQuestionIndex+1)/i.selectedTest.questions.length*100),a(2),L(" \u0417\u0430\u043F\u0438\u0442\u0430\u043D\u043D\u044F ",l+1," \u0437 ",i.selectedTest.questions.length," ")}}function rt(r,e){if(r&1&&(o(0,"div",7,1)(2,"label",8),m(3),s(),o(4,"div",9)(5,"div",10),p(6,et,5,4,"label",11)(7,tt,4,3,"div",12),s()()()),r&2){let l=e.$implicit,i=e.index,t=f(2);c("ngClass",le(8,Ke,i!==t.currentQuestionIndex))("id","question-"+i),a(3),L("",i+1,". ",l,""),a(),c("formGroupName","questions"),a(),c("formGroupName",i),a(),c("ngForOf",t.options),a(),c("ngIf",i===t.currentQuestionIndex)}}function nt(r,e){r&1&&(o(0,"button",19),m(1," \u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442 "),s())}function it(r,e){if(r&1){let l=G();o(0,"form",3),x("submit",function(){j(l);let t=f();return X(t.onCalculateScore())}),p(1,rt,8,10,"div",4),o(2,"div",5),p(3,nt,2,0,"button",6),s()()}if(r&2){let l=f();c("formGroup",l.testForm),a(),c("ngForOf",l.selectedTest.questions),a(2),c("ngIf",l.currentQuestionIndex===l.selectedTest.questions.length-1)}}function ot(r,e){if(r&1&&u(0,"app-selected-test-result",20),r&2){let l=f();c("testId",l.selectedTest.id)("score",l.score)("testImg",l.selectedTest.img)}}var Xe=(()=>{let e=class e{constructor(){this.scrollService=g(je),this.currentQuestionIndex=0,this.options=[],this.calculateScore=new w,this.nextQuestion=new w,this.previousQuestion=new w}onNextQuestion(){if(this.currentQuestionIndex<this.selectedTest.questions.length-1){this.currentQuestionIndex++;let i=this.scrollService.scrollToCurrentQuestion(this.currentQuestionIndex,this.questionElements);this.nextQuestion.emit()}}onPreviousQuestion(){this.currentQuestionIndex>0&&(this.currentQuestionIndex--,this.previousQuestion.emit())}onCalculateScore(){this.calculateScore.emit(),window.scrollTo({top:0,behavior:"smooth"})}getCurrentQuestionValid(){if(!this.testForm)return!1;let i=this.testForm.get("questions");if(!i)return!1;let t=i.at(this.currentQuestionIndex);return t.valid&&t.dirty}ngOnDestroy(){this.scrollService.cancelSmoothScroll()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b({type:e,selectors:[["app-selected-test-form"]],viewQuery:function(t,n){if(t&1&&ie(Je,5),t&2){let d;oe(d=ae())&&(n.questionElements=d)}},inputs:{currentQuestionIndex:"currentQuestionIndex",selectedTest:"selectedTest",options:"options",testForm:"testForm",score:"score"},outputs:{calculateScore:"calculateScore",nextQuestion:"nextQuestion",previousQuestion:"previousQuestion"},standalone:!0,features:[v],decls:3,vars:2,consts:[["summary",""],["questionElement",""],["class","test-form",3,"formGroup","submit",4,"ngIf","ngIfElse"],[1,"test-form",3,"submit","formGroup"],["class","question-container",3,"ngClass","id",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],["type","submit","class","resolve-button",4,"ngIf"],[1,"question-container",3,"ngClass","id"],[1,"question-text"],[1,"options-container",3,"formGroupName"],[3,"formGroupName"],["class","option-label",4,"ngFor","ngForOf"],["class","progress-bar-wrap",4,"ngIf"],[1,"option-label"],[1,"radio-wrap"],["type","radio","formControlName","selectedOption",1,"radio-button",3,"change","id","value"],[1,"progress-bar-wrap"],["mode","determinate",1,"progress-bar",3,"value"],[1,"test-question-number"],["type","submit",1,"resolve-button"],[3,"testId","score","testImg"]],template:function(t,n){if(t&1&&p(0,it,4,3,"form",2)(1,ot,1,3,"ng-template",null,0,ce),t&2){let d=se(2);c("ngIf",n.currentQuestionIndex!==n.selectedTest.questions.length)("ngIfElse",d)}},dependencies:[Ne,de,ue,O,z,k,Ce,Q,R,A,B,we,I,Ae],styles:['.test-form[_ngcontent-%COMP%]{max-width:800px;padding:20px;margin:0 8.8rem 3rem;border-radius:1rem}.question-container[_ngcontent-%COMP%]{max-width:800px;margin-bottom:2rem}.disabled-question[_ngcontent-%COMP%], .disabled-question[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:.3;cursor:crosshair}.question-text[_ngcontent-%COMP%]{display:block;line-height:2;font-size:1.5em}.label[_ngcontent-%COMP%]{font-weight:700}.options-container[_ngcontent-%COMP%]{margin-top:10px}.radio-label[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(63,63,63,0);border-radius:16px;box-shadow:0 4px 8px 2px #0000000f;font-size:1.6rem;font-weight:500;padding:1.8rem 2.8rem;width:100%;overflow:hidden}.resolve-button[_ngcontent-%COMP%]{font-size:14px;font-weight:500;height:48px;border-radius:1rem;justify-content:center;letter-spacing:-.8px;line-height:24px;min-width:140px;outline:0;padding:0 17px;align-items:center;background-color:#fff;border:2px solid #000;box-sizing:border-box;color:#000;cursor:pointer;display:inline-flex;fill:#000;font-family:Inter,sans-serif;text-align:center;text-decoration:none;transition:all .3s;user-select:none;-webkit-user-select:none;touch-action:manipulation}.progress-bar-wrap[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0rem;display:flex;align-items:center;gap:1rem}.option-label[_ngcontent-%COMP%]{display:block;cursor:pointer;margin-bottom:1rem}.test-question-number[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:147.523%;width:175px;display:flex;align-items:center;text-align:center;color:#000;font-style:normal;text-align:right}.radio-wrap[_ngcontent-%COMP%]{background:#fff;border:1px solid rgba(63,63,63,0);border-radius:16px;box-shadow:0 4px 8px 2px #0000000f;font-size:1.5rem;font-weight:500;overflow:hidden;padding:.8rem 1.8rem;width:110%}.resolve-button[_ngcontent-%COMP%]:focus{color:#171e29}.resolve-button[_ngcontent-%COMP%]:hover, .resolve-button[_ngcontent-%COMP%]:active{border-color:green;color:green;fill:#06f}@media (min-width: 768px){.resolve-button[_ngcontent-%COMP%]{min-width:170px}}.radio-button[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.radio-button[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{display:block}.radio-button[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:1em;height:1em;vertical-align:-.25em;border-radius:1em;border:.125em solid #fff;box-shadow:0 0 0 .15em #000;margin-right:.75em;transition:.5s ease all}.radio-button[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%]:before{background:green;box-shadow:0 0 0 .25em #000}.radio-button[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%]:after{content:" \\2190";font-size:1.5em;line-height:1;vertical-align:-.125em}.score-container[_ngcontent-%COMP%]{margin-top:20px}.score-text[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}'],changeDetection:0});let r=e;return r})();var Ve=(()=>{let e=class e{calculateScore(i){let t=0;return t=i.reduce((n,d)=>{let h=d.get("selectedOption")?.value;return n+(h?parseInt(h,10):0)},0),t}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();function at(r,e){if(r&1&&(o(0,"div",4),u(1,"app-tests-go-back-btn",5),s()),r&2){let l=f();a(),c("lastPath",l.lastPath)}}function st(r,e){if(r&1&&(o(0,"div",6)(1,"div",7)(2,"h1"),m(3),o(4,"span"),m(5),s()()(),u(6,"img",8),s()),r&2){let l=f();a(3),y(" ",l.selectedTest.title," "),a(2),S(l.selectedTest.problemName),a(),c("src",l.selectedTest.img,M)}}function lt(r,e){if(r&1&&(o(0,"div",4),u(1,"app-tests-go-back-btn",5),s()),r&2){let l=f();a(),c("lastPath",l.lastPath)}}var Pr=(()=>{let e=class e{constructor(){this.route=g(ge),this.testsService=g(P),this.fb=g(q),this.calculateService=g(Ve),this.score=null,this.currentQuestionIndex=0,this.lastPath="online-tests",this.options=Re,this.route.params.pipe(be()).subscribe(i=>{let{id:t}=i,n=this.testsService.getTests();this.selectedTest=n.filter(d=>d.id===+t)[0]})}ngOnInit(){this.testForm=this.fb.group({questions:this.fb.array(this.selectedTest.questions.map(()=>this.fb.group({selectedOption:[""]})))})}get questions(){return this.testForm.get("questions")}calculateScore(){this.currentQuestionIndex++,this.score=this.calculateService.calculateScore(this.questions.controls)}nextQuestion(){this.currentQuestionIndex<this.selectedTest.questions.length-1&&this.currentQuestionIndex++}previousQuestion(){this.currentQuestionIndex>0&&this.currentQuestionIndex--}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=b({type:e,selectors:[["app-selected-test"]],standalone:!0,features:[v],decls:6,vars:8,consts:[["class","goBack-btn-wrap",4,"ngIf"],["class","title-wrap",4,"ngIf"],[1,"form-wrap"],[3,"nextQuestion","previousQuestion","calculateScore","testForm","currentQuestionIndex","selectedTest","options","score"],[1,"goBack-btn-wrap"],[3,"lastPath"],[1,"title-wrap"],[1,"test-title"],["alt","",3,"src"]],template:function(t,n){t&1&&(o(0,"div"),p(1,at,2,1,"div",0)(2,st,7,3,"div",1),o(3,"div",2)(4,"app-selected-test-form",3),x("nextQuestion",function(){return n.nextQuestion()})("previousQuestion",function(){return n.previousQuestion()})("calculateScore",function(){return n.calculateScore()}),s()(),p(5,lt,2,1,"div",0),s()),t&2&&(a(),c("ngIf",n.currentQuestionIndex!==n.selectedTest.questions.length),a(),c("ngIf",n.currentQuestionIndex!==n.selectedTest.questions.length),a(2),c("testForm",n.testForm)("currentQuestionIndex",n.currentQuestionIndex)("selectedTest",n.selectedTest)("options",n.options)("score",n.score),a(),c("ngIf",n.currentQuestionIndex===n.selectedTest.questions.length))},dependencies:[Xe,O,Qe,I],styles:['.test-container[_ngcontent-%COMP%]{max-width:800px;margin:40px auto;padding:20px;text-align:center;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 4px #0000001a}.title-wrap[_ngcontent-%COMP%]{padding:2rem 2rem 2rem 6rem;border-radius:22px;box-shadow:0 4px 8px 2px #0000000f;gap:0;margin:0 8.8rem 3rem;display:flex;justify-content:space-between;background:#fff;overflow:hidden}.title-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px;border-radius:1rem}.title-wrap[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:10px 0 0;color:gray;font-weight:400}.form-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.test-subtitle[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px}.goBack-btn-wrap[_ngcontent-%COMP%]{padding:1rem}.summary-container[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.progress-bar-wrap[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0rem}h1[_ngcontent-%COMP%]{position:relative;padding:0;margin:0;font-family:Raleway,sans-serif;font-weight:300;font-size:40px;color:#080808;-webkit-transition:all .4s ease 0s;-o-transition:all .4s ease 0s;transition:all .4s ease 0s}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.5em;line-height:1.3}.test-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:capitalize}.test-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{position:absolute;left:0;bottom:0;width:60px;height:2px;content:"";background-color:#c50000}.test-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:500;text-transform:uppercase;letter-spacing:4px;line-height:3em;padding-left:.25em;color:#0006;padding-bottom:10px}'],changeDetection:0});let r=e;return r})();export{Pr as SelectedTestComponent};
