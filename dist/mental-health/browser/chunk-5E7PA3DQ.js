import{a as ut}from"./chunk-F7F2NVOA.js";import{a as b}from"./chunk-UVKAN2WA.js";import{a as ot,c as it,g as rt}from"./chunk-TABMPEIF.js";import"./chunk-OJC2LPPV.js";import"./chunk-MBBNA4RC.js";import{a as x}from"./chunk-CEGQN6JS.js";import{b as X,c as M,e as J,f as K,i as Y,m as Z,o as tt,r as et,s as nt}from"./chunk-2PRIV7DE.js";import"./chunk-2IXEQV6E.js";import"./chunk-AESYL7IM.js";import{c as W}from"./chunk-64GLTMIP.js";import"./chunk-JGBXHXCN.js";import{a as H}from"./chunk-XC6Q6ZZK.js";import{$b as u,Aa as I,Ab as v,Db as q,Fb as j,Gb as Q,Hb as i,Ib as o,Jb as m,Ka as z,Kb as R,Lb as V,Nb as L,Oc as G,Pc as N,Qb as y,Sb as C,_b as U,ac as A,bb as k,bc as p,eb as a,hc as g,ja as d,oa as f,oc as $,qb as T,wb as h,yb as l,za as w,zb as B}from"./chunk-M7S2SRCW.js";import"./chunk-BY3KSYET.js";var at=(()=>{let t=class t{constructor(){this.chosenProducts=d(b)}cancelProduct(c){this.chosenProducts.cancelChosenProduct(this.productId),c.stopPropagation()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-cancel-btn"]],inputs:{productId:"productId"},standalone:!0,features:[g],decls:2,vars:0,consts:[[1,"cancel-btn",3,"click"]],template:function(r,n){r&1&&(i(0,"button",0),y("click",function(_){return n.cancelProduct(_)}),u(1,` \u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440
`),o())},styles:[".cancel-btn[_ngcontent-%COMP%]{border-radius:.5rem;outline:none;border:none;z-index:999;width:158px;height:38px;font-weight:600;padding:.5rem;box-sizing:border-box;cursor:pointer;color:#fff;background-color:#ec1c0d;transition:all .25s}.cancel-btn[_ngcontent-%COMP%]:hover{color:#ffffffb9}"],changeDetection:0});let e=t;return e})();var pt=(e,t)=>t.id;function dt(e,t){if(e&1&&(R(0),u(1," \u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C "),i(2,"span"),u(3," \u2B50 "),o(),u(4),V()),e&2){let s=C().$implicit;a(4),p(" ",s.productQuantity," ")}}function ft(e,t){if(e&1&&u(0),e&2){let s=C().$implicit;p(" \u041D\u0430\u0436\u0430\u043B\u044C \u0446\u0435 \u043E\u0441\u0442\u0430\u043D\u043D\u044F \u0443\u043F\u0430\u043A\u043E\u0432\u043A\u0430 ",s.name," . ")}}function gt(e,t){if(e&1&&(i(0,"div",2),m(1,"img",3),i(2,"div",4)(3,"div")(4,"h2"),u(5),o(),i(6,"p"),u(7),o(),i(8,"div",5),u(9),i(10,"sub"),u(11," \u0433\u0440\u043D "),o(),i(12,"span"),u(13),o()(),i(14,"div",6)(15,"span",7),h(16,dt,5,1,"ng-container",8)(17,ft,1,1,"ng-template",9,0,$),o()(),i(19,"div",10),m(20,"app-buy-btn",11)(21,"app-cancel-btn",12),o()()()()),e&2){let s=t.$implicit,c=U(18),r=C();a(),l("src",s.photo,k),a(4),A(s.name),a(2),p("Product ID: ",s.id,""),a(2),p(" ",s.price*s.productQuantity," "),a(4),p("( ",s.price," / 1\u0448\u0442)"),a(2),B("background-color",s.obviously===1?"rgb(23, 165, 24)":""),a(),l("ngIf",s.obviously>1)("ngIfElse",c),a(4),l("quantity",s.productQuantity)("obviously",s.obviously)("productId",s.id)("isMyProductPage",r.isMyProductPage),a(),l("productId",s.id)}}var ct=(()=>{let t=class t{constructor(){this.cpService=d(b),this.isMyProductPage=!0,this.cpService.getChosenProducts().pipe(x()).subscribe(c=>{this.products=c})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-my-product-list"]],inputs:{products:"products"},standalone:!0,features:[g],decls:4,vars:0,consts:[["lastProduct",""],[1,"product-list"],[1,"container-item"],["alt","",3,"src"],[1,"product-info-wrap"],[1,"product-item-price"],[1,"quantity-product-wrap"],[1,"quantity-product"],[4,"ngIf","ngIfElse"],[1,"last-product-message"],[1,"product-item-btns-wrap"],[3,"quantity","obviously","productId","isMyProductPage"],[3,"productId"]],template:function(r,n){r&1&&(i(0,"div")(1,"ul",1),j(2,gt,22,14,"div",2,pt),o()()),r&2&&(a(2),Q(n.products))},dependencies:[N,ut,at],styles:[".product-list[_ngcontent-%COMP%]{gap:1rem;padding:2rem;box-sizing:border-box;display:flex;justify-content:center;flex-wrap:wrap}.container-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;display:block;width:150px;transition:transform 1.5s cubic-bezier(.165,.84,.44,1)}.container-item[_ngcontent-%COMP%]{width:100%;border-radius:20px;box-shadow:0 2px 4px #0000000f;border:1px solid rgba(2,67,107,0);background:#fff;display:flex;overflow:hidden;transition:all .5s;position:relative}.container-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:1rem;color:gray}.last-product-message[_ngcontent-%COMP%]{font-size:12px;padding:.5rem;border:1px solid green}.product-item-price[_ngcontent-%COMP%]{color:#3f3f3f;font-family:Montserrat,sans-serif;font-size:1rem;font-style:normal;font-weight:700;line-height:124%;margin-bottom:1.2rem;margin-top:1.2rem;text-align:left}.product-item-price[_ngcontent-%COMP%]   sub[_ngcontent-%COMP%]{font-size:75%;line-height:0;vertical-align:baseline}.product-item-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:gray}.container-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3f3f3f;cursor:pointer;font-size:1.3rem;font-style:normal;font-weight:600;line-height:150%;margin-top:.6rem;text-align:left;text-transform:uppercase}.product-info-wrap[_ngcontent-%COMP%]{padding:.5rem 1.2rem;width:100%;display:flex}.product-item-link[_ngcontent-%COMP%]{width:88px;height:38px;border:none;outline:none;background:#eaeaea;cursor:pointer;border-radius:10px;transition:all .25s}.product-item-link[_ngcontent-%COMP%]:hover{background-color:transparent}.product-item-btns-wrap[_ngcontent-%COMP%]{width:100%;gap:1rem;display:flex}.quantity-product[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.quantity-product-wrap[_ngcontent-%COMP%]{right:.5rem;top:1rem;position:absolute}.quantity-product[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem;font-size:12px;display:flex;align-items:center;background-color:#18a518;color:#fff}.link-wrap[_ngcontent-%COMP%]{top:1rem;right:1rem;display:flex;flex-direction:column;gap:1rem;position:absolute}"],changeDetection:0});let e=t;return e})();var st=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-total-amount"]],inputs:{totalAmount:"totalAmount"},standalone:!0,features:[g],decls:4,vars:1,consts:[[1,"amount-price"]],template:function(r,n){r&1&&(i(0,"div",0)(1,"span"),u(2," \u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u043C\u0430: "),o(),u(3),o()),r&2&&(a(3),p(" ",n.totalAmount,` \u0433\u0440\u043D
`))},styles:[".amount-price[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#3f3f3f;font-family:Montserrat,sans-serif;font-style:normal;text-align:right}"]});let e=t;return e})();function ht(e,t){if(e&1){let s=L();i(0,"li")(1,"span",2),u(2),o(),m(3,"img",3),i(4,"span"),u(5),o(),i(6,"span"),u(7),o(),i(8,"span",4),y("click",function(){let r=w(s).$implicit,n=C();return I(n.onRemoveProduct(r))}),u(9,"\u274C"),o()()}if(e&2){let s=t.$implicit;a(2),A(s.name),a(),l("src",s.photo,k),a(2),p("\u0426\u0456\u043D\u0430: ",s.price*s.productQuantity,""),a(2),p("\u041A\u0456\u043B\u044C\u043A\u0456\u0441\u0442\u044C: ",s.productQuantity,"")}}var lt=(()=>{let t=class t{constructor(){this.productList=[],this.removeProduct=new z}onRemoveProduct(c){this.removeProduct.emit(c)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-my-product-buy-list"]],inputs:{productList:"productList"},outputs:{removeProduct:"removeProduct"},standalone:!0,features:[g],decls:2,vars:1,consts:[[1,"product-list"],[4,"ngFor","ngForOf"],[1,"product-name"],["alt","",3,"src"],[1,"remove-product",3,"click"]],template:function(r,n){r&1&&(i(0,"ul",0),h(1,ht,10,4,"li",1),o()),r&2&&(a(),l("ngForOf",n.productList))},dependencies:[G],styles:[".product-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:10px 0;background-color:#fff;border:1px solid #ccc;border-radius:4px}.product-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px}.product-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 8px;border-bottom:1px solid #ccc;gap:1rem;display:flex;align-items:center;justify-content:space-between}.product-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.product-name[_ngcontent-%COMP%]{width:30%}.remove-product[_ngcontent-%COMP%]{cursor:pointer;color:red;font-size:20px;margin-left:10px}.product-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}"],changeDetection:0});let e=t;return e})();function yt(e,t){e&1&&(i(0,"div",17),u(1," \u0406\u043C'\u044F \u043E\u0431\u043E\u0432'\u044F\u0437\u043A\u043E\u0432\u0435. "),o())}function Ct(e,t){e&1&&(i(0,"div",17),u(1," \u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0434\u0456\u0439\u0441\u043D\u0443 \u043F\u043E\u0448\u0442\u0443. "),o())}function _t(e,t){e&1&&(i(0,"div",17),u(1," \u041D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443 \u043E\u0431\u043E\u0432'\u044F\u0437\u043A\u043E\u0432\u0438\u0439. "),o())}function bt(e,t){e&1&&(i(0,"span"),u(1,"\u041D\u0430\u0434\u0456\u0441\u043B\u0430\u0442\u0438"),o())}function Pt(e,t){e&1&&(i(0,"span",18),u(1,"\u0417\u0430\u0447\u0435\u043A\u0430\u0439\u0442\u0435..."),o())}function xt(e,t){e&1&&(i(0,"span",19),u(1,"\u0421\u0442\u0430\u043B\u0430\u0441\u044F \u043F\u043E\u043C\u0438\u043B\u043A\u0430"),o())}function vt(e,t){e&1&&(i(0,"span",18),u(1," \u0414\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F "),o())}var mt=(()=>{let t=class t{constructor(){this.productList=[],this.isLoading=T(!1),this.submitSuccess=T(!1),this.submitError=T(!1),this.fb=d(et),this.http=d(H),this.dialogRef=d(ot),this.cp=d(b),this.cp.getChosenProducts().pipe(x()).subscribe(c=>{this.productList=c})}ngOnInit(){this.myProductsForm=this.fb.group({name:["",[M.required]],email:["",[M.required,M.email]],phoneNumber:["",[M.required]],text:[""]})}removeProduct(c){this.cp.cancelChosenProduct(c.id)}get calculateTotalAmount(){return this.productList.reduce((c,r)=>c+r.price*r.productQuantity,0)}onSubmit(){if(this.myProductsForm.valid){this.isLoading.set(!0);let c=this.productList.map(n=>({name:n.name,id:n.id,quantity:n.productQuantity,price:n.price,totalPrice:n.price*n.productQuantity})),r={name:this.myProductsForm.value.name,email:this.myProductsForm.value.email,phoneNumber:this.myProductsForm.value.phoneNumber,text:this.myProductsForm.value.text,totalSum:this.calculateTotalAmount,productList:c};this.http.post("https://submit-form.com/IWivaiDXn",r).subscribe(n=>{this.submitSuccess.set(!0),console.log("Form submitted successfully",n),this.isLoading.set(!1),this.submitError.set(!1),this.myProductsForm.reset(),console.log(this.submitSuccess())},n=>{console.error("Error submitting form",n),this.isLoading.set(!1),this.submitSuccess.set(!1),this.submitError.set(!0)})}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-my-products-modal"]],standalone:!0,features:[g],decls:33,vars:19,consts:[[1,"form",3,"ngSubmit","formGroup"],[1,"amount-price"],[1,"form-group"],["for","name"],["type","text","formControlName","name","id","name",1,"form-control"],["class","error-message",4,"ngIf"],["for","email"],["type","email","formControlName","email","id","email",1,"form-control"],["for","phoneNumber"],["type","text","formControlName","phoneNumber","id","phoneNumber",1,"form-control"],["for","text"],["formControlName","text","id","text",1,"form-control"],[3,"removeProduct","productList"],["type","submit",1,"btn-submit",3,"disabled"],[4,"ngIf"],["class","loading-message",4,"ngIf"],["style","color: red","class","loading-message",4,"ngIf"],[1,"error-message"],[1,"loading-message"],[1,"loading-message",2,"color","red"]],template:function(r,n){if(r&1&&(i(0,"form",0),y("ngSubmit",function(){return n.onSubmit()}),i(1,"div",1)(2,"span"),u(3," \u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u0441\u0443\u043C\u0430: "),o(),u(4),o(),i(5,"div",2)(6,"label",3),u(7,"\u0406\u043C'\u044F:"),o(),m(8,"input",4),h(9,yt,2,0,"div",5),o(),i(10,"div",2)(11,"label",6),u(12,"\u041F\u043E\u0448\u0442\u0430:"),o(),m(13,"input",7),h(14,Ct,2,0,"div",5),o(),i(15,"div",2)(16,"label",8),u(17,"\u041D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443:"),o(),m(18,"input",9),h(19,_t,2,0,"div",5),o(),i(20,"div",2)(21,"label",10),u(22,"\u0414\u043E\u0434\u0430\u0442\u043A\u043E\u0432\u0430 \u0456\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0456\u044F:"),o(),m(23,"textarea",11),o(),i(24,"div",2)(25,"label"),u(26,"\u0412\u0438\u0431\u0440\u0430\u043D\u0456 \u0442\u043E\u0432\u0430\u0440\u0438:"),o(),i(27,"app-my-product-buy-list",12),y("removeProduct",function(_){return n.removeProduct(_)}),o()(),i(28,"button",13),h(29,bt,2,0,"span",14)(30,Pt,2,0,"span",15)(31,xt,2,0,"span",16)(32,vt,2,0,"span",15),o()()),r&2){let P,_,S,O,F,D;v("success-wrap",n.submitSuccess()),l("formGroup",n.myProductsForm),a(4),p(" ",n.calculateTotalAmount," \u0433\u0440\u043D "),a(4),v("invalid",((P=n.myProductsForm.get("name"))==null?null:P.invalid)&&((P=n.myProductsForm.get("name"))==null?null:P.touched)),a(),l("ngIf",((_=n.myProductsForm.get("name"))==null?null:_.invalid)&&((_=n.myProductsForm.get("name"))==null?null:_.touched)),a(4),v("invalid",((S=n.myProductsForm.get("email"))==null?null:S.invalid)&&((S=n.myProductsForm.get("email"))==null?null:S.touched)),a(),l("ngIf",((O=n.myProductsForm.get("email"))==null?null:O.invalid)&&((O=n.myProductsForm.get("email"))==null?null:O.touched)),a(4),v("invalid",((F=n.myProductsForm.get("phoneNumber"))==null?null:F.invalid)&&((F=n.myProductsForm.get("phoneNumber"))==null?null:F.touched)),a(),l("ngIf",((D=n.myProductsForm.get("phoneNumber"))==null?null:D.invalid)&&((D=n.myProductsForm.get("phoneNumber"))==null?null:D.touched)),a(8),l("productList",n.productList),a(),l("disabled",n.isLoading()||n.submitSuccess()),a(),l("ngIf",!n.isLoading()&&!n.submitSuccess()&&!n.submitError()),a(),l("ngIf",n.isLoading()),a(),l("ngIf",n.submitError()),a(),l("ngIf",n.submitSuccess())}},dependencies:[N,lt,nt,Y,X,J,K,Z,tt],styles:[".form[_ngcontent-%COMP%]{min-width:450px;max-width:600px;margin:50px auto;padding:20px;border-radius:8px;border:1px solid #ccc;background-color:#f9f9f9;position:relative}.amount-price[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;right:1rem;top:1rem;color:#3f3f3f;font-family:Montserrat,sans-serif;font-style:normal;text-align:right;position:absolute}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;font-size:16px}.form-control.invalid[_ngcontent-%COMP%]{border-color:red}textarea.form-control[_ngcontent-%COMP%]{height:60px;resize:vertical}.form-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:10px}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:15px;font-size:18px;border-radius:4px;border:none;display:block;background-color:#28a745;color:#fff;cursor:pointer}.success-wrap[_ngcontent-%COMP%]{background-color:#28a74677}.error-message[_ngcontent-%COMP%]{color:red;font-size:.875em;width:90%}.success-message[_ngcontent-%COMP%]{color:green;font-size:.875em}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#218838}.loading-message[_ngcontent-%COMP%]{color:#fff;font-size:1rem;font-weight:600;gap:1rem;display:flex;align-items:center;justify-content:center}.loading-message[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;display:block;border:1px solid #fff;height:25px}"],changeDetection:0});let e=t;return e})();function Mt(e,t){e&1&&(i(0,"div",1),m(1,"img",2),i(2,"h2"),u(3,"\u0421\u0445\u043E\u0436\u0435, \u0449\u043E \u0432\u0430\u0448 \u043A\u043E\u0448\u0438\u043A \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u0439..."),o()())}function Et(e,t){if(e&1){let s=L();m(0,"app-total-amount",3)(1,"app-my-product-list",4)(2,"hr")(3,"br"),i(4,"button",5),y("click",function(){w(s);let r=C();return I(r.openDialog())}),u(5,"\u0417\u0430\u043C\u043E\u0432\u0438\u0442\u0438"),o()}if(e&2){let s=C();l("totalAmount",s.calculateTotalAmount),a(),l("products",s.products)}}var Pe=(()=>{let t=class t{constructor(){this.cpService=d(b),this.dialogRef=d(it),this.products=[],this.chosenProductPage="chosenProductPage",this.cpService.getChosenProducts().pipe(x()).subscribe(c=>{this.products=c})}openDialog(){this.dialogRef.open(mt,{width:"500px",height:"670px"})}get calculateTotalAmount(){return this.products.reduce((c,r)=>c+r.price*r.productQuantity,0)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["app-my-products"]],standalone:!0,features:[g],decls:3,vars:1,consts:[[1,"container"],[1,"no-content"],["src","https://tse1.mm.bing.net/th?id=OIP.M4xNU05rCc_5yHL4wuxqhgHaHa&pid=Api&P=0&h=180","alt",""],[3,"totalAmount"],[3,"products"],[1,"order-btn",3,"click"]],template:function(r,n){r&1&&(i(0,"div",0),h(1,Mt,4,0,"div",1)(2,Et,6,2),o()),r&2&&(a(),q(1,n.products.length===0?1:2))},dependencies:[ct,rt,W,st],styles:[".container[_ngcontent-%COMP%]{padding:2rem;height:90vh;background-color:#f4f4f4}.no-content[_ngcontent-%COMP%]{margin:0 auto;display:flex;flex-direction:column;justify-content:center;align-items:center}.no-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;margin-bottom:1rem}.order-btn[_ngcontent-%COMP%]{width:200px}.order-btn[_ngcontent-%COMP%]{margin:0 auto;display:block;width:433px;font-size:18px;border-radius:8px;padding:15px;border:none;background-color:#28a745;color:#fff;cursor:pointer}.order-btn[_ngcontent-%COMP%]:hover{background-color:#218838}"]});let e=t;return e})();export{Pe as MyProductsComponent};
