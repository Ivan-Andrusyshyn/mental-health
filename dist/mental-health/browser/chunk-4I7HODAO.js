import{a as C}from"./chunk-WDHBGD6Q.js";import{a as b}from"./chunk-NPHQPO7R.js";import{a as _}from"./chunk-UHS2BQWK.js";import{a as d}from"./chunk-7Q7EM4GB.js";import{r as y,s as P}from"./chunk-3SVZZ3UA.js";import{h as v,j as S}from"./chunk-SFKR6NCK.js";import{Fb as n,Gb as u,Hb as a,Jc as f,Ob as h,Zb as l,db as s,fc as g,ja as i,oa as m,wb as p}from"./chunk-HITTG77O.js";import"./chunk-BY3KSYET.js";var j=(()=>{let e=class e{constructor(){this.productsService=i(_),this.route=i(v),this.router=i(S),this.location=i(f),this.fb=i(y),this.imageUrl="",this.lastPath="products";let r;this.route.params.pipe(d()).subscribe(t=>{let{id:o}=t;r=o}),this.productsService.getObservableProducts().pipe(d()).subscribe(t=>{this.product=t.filter(o=>o.id===+r)[0]}),this.productForm=this.fb.group({id:[this.product.id],name:[this.product.name],price:[this.product.price],obviously:[this.product.obviously],description:[this.product.description],photo:[this.product.photo],inStock:[this.product.inStock],shortDescription:[this.product.shortDescription],composition:this.fb.group({extract:[this.product.composition.extract],folicAcid:[this.product.composition.folicAcid],magnesium:[this.product.composition.magnesium],vitaminB1:[this.product.composition.vitaminB1],vitaminB12:[this.product.composition.vitaminB12],vitaminB6:[this.product.composition.vitaminB6]}),recommendations:[this.product.recommendations],symptoms:[this.product.symptoms],advantages:[this.product.advantages],clinicalExperience:[this.product.clinicalExperience],usageInstructions:[this.product.usageInstructions],warnings:[this.product.warnings],ageRestrictions:[this.product.ageRestrictions],packagingAndStorage:[this.product.packagingAndStorage],manufacturer:[this.product.manufacturer],productQuantity:[this.product.productQuantity],importer:[this.product.importer]})}onChangeProduct(){this.productForm.valid&&(this.productsService.changeProductInfo(this.productForm.value),alert("\u0412\u0438 \u0443\u0441\u043F\u0456\u0448\u043D\u043E \u0437\u043C\u0456\u043D\u0438\u043B\u0438 \u0456\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0456\u044E \u043F\u0440\u043E \u0442\u043E\u0432\u0430\u0440 \u{1F60A}"),window.scrollTo({top:0,behavior:"smooth"}))}resetSelection(){this.productForm.get("composition")?.reset()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m({type:e,selectors:[["app-product-edit"]],standalone:!0,features:[g],decls:8,vars:3,consts:[[1,"edit-container"],[1,"product-wrap"],[1,"title-wrap"],[3,"lastPath"],[3,"onSubmit","resetSelection","productForm","textBtn"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),a(3,"app-go-back-btn",3),n(4,"h2"),l(5,"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043D\u043D\u044F \u0442\u043E\u0432\u0430\u0440\u0443"),u()(),n(6,"app-product-form",4),h("onSubmit",function(){return o.onChangeProduct()})("resetSelection",function(){return o.resetSelection()}),u()()(),a(7,"hr")),t&2&&(s(3),p("lastPath",o.lastPath),s(3),p("productForm",o.productForm)("textBtn","\u0417\u043C\u0456\u043D\u0438\u0442\u0438 \u0442\u043E\u0432\u0430\u0440"))},dependencies:[P,b,C],styles:[".edit-container[_ngcontent-%COMP%]{padding:2rem;display:flex;justify-content:center;max-width:1200px}.product-wrap[_ngcontent-%COMP%]{max-width:600px;padding-left:1rem}.title-wrap[_ngcontent-%COMP%]{margin-bottom:2rem;gap:2rem;display:flex;align-items:center}.product-wrap[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0});let c=e;return c})();export{j as ProductEditComponent};
